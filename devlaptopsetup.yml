# file devlaptopsetup.yml
# use this ansible playbook to setup a new development laptop
---
- hosts: all
  tasks:
  - name: Install mono-complete
    become: true
    apt:
      name: mono-complete
      state: present
      update_cache: true
  - name: Install basic ubuntu desktop
    become: true
    apt:
      name: ubuntu-desktop
      state: latest
      install_recommends: no
  - name: Change grub text line
    become: true
    lineinfile:
      path: /etc/default/grub
      regexp: '^GRUB_CMDLINE_LINUX_DEFAULT='
      line: 'GRUB_CMDLINE_LINUX_DEFAULT="text"'
  - name: Change grub console line
    become: true
    lineinfile:
      path: /etc/default/grub
      regexp: '^GRUB_CMDLINE_LINUX='
      line: 'GRUB_CMDLINE_LINUX=console'
  - name: run update grub command
    become: true
    command: update-grub
  - name: run systemctl command
    become: true
    command: 'systemctl set-default multi-user.target'
  - name: Install support packages for Docker
    apt:
      name: "{{ packages }}"
    vars:
      packages:
      - apt-transport-https
      - ca-certificates
      - curl
      - software-properties-common


